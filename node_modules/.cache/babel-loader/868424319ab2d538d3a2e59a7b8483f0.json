{"ast":null,"code":"import _defineProperty from\"C:/Users/artem/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/artem/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./Users.module.css';import{useEffect,useState}from'react';import cn from'classnames';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pagination=function Pagination(_ref){var totalUsersCount=_ref.totalUsersCount,pageSize=_ref.pageSize,currentPage=_ref.currentPage,onPageChanged=_ref.onPageChanged,_ref$portionSize=_ref.portionSize,portionSize=_ref$portionSize===void 0?15:_ref$portionSize;var pagesCount=Math.ceil(totalUsersCount/pageSize);var pages=[];for(var i=1;i<=pagesCount;i++){pages.push(i);}var portionCount=Math.ceil(pagesCount/portionSize);var _useState=useState(1),_useState2=_slicedToArray(_useState,2),portionNumber=_useState2[0],setPortionNumber=_useState2[1];var leftBorder=(portionNumber-1)*portionSize+1;var rightBorder=portionNumber*portionSize;useEffect(function(){return setPortionNumber(Math.ceil(currentPage/portionSize));},[currentPage,portionSize]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setPortionNumber(portionNumber=1);},children:\"First\"}),portionNumber>1&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setPortionNumber(portionNumber-1);},children:\" PREV \"}),pages.filter(function(p){return p>=leftBorder&&p<=rightBorder;}).map(function(p){return/*#__PURE__*/_jsx(\"span\",{className:cn(_defineProperty({},styles.selected,currentPage===p),styles.num),onClick:function onClick(e){return onPageChanged(p);},children:p},p);}),portionCount>portionNumber&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setPortionNumber(portionNumber+1);},children:\" NEXT \"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setPortionNumber(portionNumber=0);},children:\"Last\"})]});};export default Pagination;","map":{"version":3,"sources":["C:/Users/artem/my-app/src/compo/Users/Pagination.jsx"],"names":["styles","useEffect","useState","cn","Pagination","totalUsersCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftBorder","rightBorder","filter","p","map","selected","num","e"],"mappings":"wNAAA,MAAOA,CAAAA,MAAP,KAAmB,oBAAnB,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,C,wFAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAgF,IAA9EC,CAAAA,eAA8E,MAA9EA,eAA8E,CAA7DC,QAA6D,MAA7DA,QAA6D,CAAnDC,WAAmD,MAAnDA,WAAmD,CAAtCC,aAAsC,MAAtCA,aAAsC,uBAAvBC,WAAuB,CAAvBA,WAAuB,2BAAT,EAAS,kBAC/F,GAAIC,CAAAA,UAAU,CAAGC,IAAI,CAACC,IAAL,CAAUP,eAAe,CAAGC,QAA5B,CAAjB,CACA,GAAIO,CAAAA,KAAK,CAAG,EAAZ,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIJ,UAArB,CAAiCI,CAAC,EAAlC,CAAsC,CAClCD,KAAK,CAACE,IAAN,CAAWD,CAAX,EACH,CAED,GAAIE,CAAAA,YAAY,CAAGL,IAAI,CAACC,IAAL,CAAUF,UAAU,CAAGD,WAAvB,CAAnB,CACA,cAAwCP,QAAQ,CAAC,CAAD,CAAhD,wCAAKe,aAAL,eAAoBC,gBAApB,eACA,GAAIC,CAAAA,UAAU,CAAG,CAACF,aAAa,CAAG,CAAjB,EAAsBR,WAAtB,CAAoC,CAArD,CACA,GAAIW,CAAAA,WAAW,CAAGH,aAAa,CAAGR,WAAlC,CAEAR,SAAS,CAAC,iBAAIiB,CAAAA,gBAAgB,CAACP,IAAI,CAACC,IAAL,CAAUL,WAAW,CAACE,WAAtB,CAAD,CAApB,EAAD,CAA2D,CAACF,WAAD,CAAcE,WAAd,CAA3D,CAAT,CAEA,mBAAO,oCACH,eAAQ,OAAO,CAAE,yBAAMS,CAAAA,gBAAgB,CAACD,aAAa,CAAG,CAAjB,CAAtB,EAAjB,mBADG,CAEDA,aAAa,CAAG,CAAhB,eAAqB,eAAQ,OAAO,CAAE,yBAAOC,CAAAA,gBAAgB,CAACD,aAAa,CAAG,CAAjB,CAAvB,EAAjB,oBAFpB,CAGFJ,KAAK,CACDQ,MADJ,CACW,SAAAC,CAAC,QAAIA,CAAAA,CAAC,EAAIH,UAAL,EAAmBG,CAAC,EAAIF,WAA5B,EADZ,EAEIG,GAFJ,CAEQ,SAACD,CAAD,CAAO,CACR,mBAAO,aAAM,SAAS,CAAGnB,EAAE,oBAAGH,MAAM,CAACwB,QAAV,CAAqBjB,WAAW,GAAKe,CAArC,EAAyCtB,MAAM,CAACyB,GAAhD,CAApB,CAAmF,OAAO,CAAE,iBAACC,CAAD,QAAOlB,CAAAA,aAAa,CAACc,CAAD,CAApB,EAA5F,UAAuHA,CAAvH,EAAgFA,CAAhF,CAAP,CACH,CAJJ,CAHE,CAQDN,YAAY,CAAGC,aAAf,eAAgC,eAAQ,OAAO,CAAE,yBAAOC,CAAAA,gBAAgB,CAACD,aAAa,CAAG,CAAjB,CAAvB,EAAjB,oBAR/B,cASH,eAAQ,OAAO,CAAE,yBAAMC,CAAAA,gBAAgB,CAACD,aAAa,CAAG,CAAjB,CAAtB,EAAjB,kBATG,GAAP,CAWH,CAzBD,CA2BA,cAAeb,CAAAA,UAAf","sourcesContent":["import styles from './Users.module.css'\r\nimport {useEffect, useState} from 'react'\r\nimport cn from 'classnames'\r\n\r\n\r\nconst Pagination = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 15 }) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftBorder = (portionNumber - 1) * portionSize + 1;\r\n    let rightBorder = portionNumber * portionSize;\r\n\r\n    useEffect(()=>setPortionNumber(Math.ceil(currentPage/portionSize)), [currentPage, portionSize])\r\n    \r\n    return <div>\r\n        <button onClick={() => setPortionNumber(portionNumber = 1)}>First</button>\r\n        { portionNumber > 1 && <button onClick={() =>  setPortionNumber(portionNumber - 1) }> PREV </button> }\r\n        {pages\r\n            .filter(p => p >= leftBorder && p <= rightBorder)\r\n            .map((p) => {\r\n                return <span className={ cn({[styles.selected]: currentPage === p}, styles.num) } key={p} onClick={(e) => onPageChanged(p) }>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber && <button onClick={() =>  setPortionNumber(portionNumber + 1) }> NEXT </button> }\r\n        <button onClick={() => setPortionNumber(portionNumber = 0)}>Last</button>\r\n    </div>\r\n}\r\n\r\nexport default Pagination"]},"metadata":{},"sourceType":"module"}