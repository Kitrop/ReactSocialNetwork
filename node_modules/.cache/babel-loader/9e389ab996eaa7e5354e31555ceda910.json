{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/artem/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/artem/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/artem/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\artem\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";// actions\nimport{profileApi}from'../../compo/api/api';var ADD_POST='ADD-POST';var DELETE_POST='DELETE_POST';var SET_USER_PROFILE='SET_USER_PROFILE';var SET_PROFILE_STATUS='GET_PROFILE_STATUS';var UPDATE_PROFILE_STATUS='UPDATE_PROFILE_STATUS';// state\nvar initialState={postsData:[{id:1,name:'Evgeniy',text:'I need more React',like:'16'},{id:2,text:'I love REACT!!!',like:'45'}],newPostText:'it-sphere',profile:null,status:null};//reducer\nvar profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:{var newPost={name:'Oleg',text:action.newPostText,like:'56'};return _objectSpread(_objectSpread({},state),{},{postsData:[].concat(_toConsumableArray(state.postsData),[newPost])});}case DELETE_POST:{return _objectSpread(_objectSpread({},state),{},{postsData:state.postsData.filter(function(p){return p.id!==action.id;})});}case SET_USER_PROFILE:{return _objectSpread(_objectSpread({},state),{},{profile:action.profile});}case SET_PROFILE_STATUS:{return _objectSpread(_objectSpread({},state),{},{status:action.status});}case UPDATE_PROFILE_STATUS:{return _objectSpread(_objectSpread({},state),{},{status:action.status});}default:{return state;}}};// actionCreater\nexport var addPostActionCreater=function addPostActionCreater(newPostText){return{type:ADD_POST,newPostText:newPostText};};export var deletePostAC=function deletePostAC(id){return{type:DELETE_POST,id:id};};export var setUserProfile=function setUserProfile(profile){return{type:SET_USER_PROFILE,profile:profile};};export var setProfileStatus=function setProfileStatus(status){return{type:SET_PROFILE_STATUS,status:status};};// thunkCreator\nexport var getProfileThunk=function getProfileThunk(userId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return profileApi.getProfileAPI(userId);case 2:data=_context.sent;dispatch(setUserProfile(data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getProfileStatus=function getProfileStatus(userId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return profileApi.getProfileStatus(userId);case 2:data=_context2.sent;dispatch(setProfileStatus(data.data));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var putProfileStatus=function putProfileStatus(status){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return profileApi.putProfileStatus(status);case 2:data=_context3.sent;if(data.data.resultCode===0){dispatch(setProfileStatus(status));}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export default profileReducer;","map":{"version":3,"sources":["C:/Users/artem/my-app/src/redux/reducers/profileReducer.js"],"names":["profileApi","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_PROFILE_STATUS","UPDATE_PROFILE_STATUS","initialState","postsData","id","name","text","like","newPostText","profile","status","profileReducer","state","action","type","newPost","filter","p","addPostActionCreater","deletePostAC","setUserProfile","setProfileStatus","getProfileThunk","userId","dispatch","getProfileAPI","data","getProfileStatus","putProfileStatus","resultCode"],"mappings":"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","sourcesContent":["// actions\r\nimport {profileApi} from '../../compo/api/api'\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_PROFILE_STATUS = 'GET_PROFILE_STATUS'\r\nconst UPDATE_PROFILE_STATUS = 'UPDATE_PROFILE_STATUS'\r\n\r\n// state\r\nlet initialState = {\r\n    postsData: [\r\n        {id: 1, name: 'Evgeniy', text: 'I need more React', like: '16'},\r\n        {id: 2, text: 'I love REACT!!!', like: '45'}\r\n    ],\r\n    newPostText: 'it-sphere',\r\n    profile: null,\r\n    status: null\r\n}\r\n\r\n//reducer\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                name: 'Oleg',\r\n                text: action.newPostText,\r\n                like: '56'\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, postsData: state.postsData.filter(p => p.id !== action.id)}\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_PROFILE_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case UPDATE_PROFILE_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n// actionCreater\r\nexport const addPostActionCreater = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const deletePostAC = (id) => ({type: DELETE_POST, id})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setProfileStatus = (status) => ({type: SET_PROFILE_STATUS, status})\r\n\r\n// thunkCreator\r\nexport const getProfileThunk = (userId) => async (dispatch) => {\r\n    let data = await profileApi.getProfileAPI(userId)\r\n    dispatch(setUserProfile(data))\r\n}\r\nexport const getProfileStatus = (userId) => async (dispatch) => {\r\n    let data = await profileApi.getProfileStatus(userId)\r\n    dispatch(setProfileStatus(data.data))\r\n\r\n}\r\nexport const putProfileStatus = (status) => async (dispatch) => {\r\n    let data = await profileApi.putProfileStatus(status)\r\n    if (data.data.resultCode === 0) {\r\n        dispatch(setProfileStatus(status))\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer"]},"metadata":{},"sourceType":"module"}